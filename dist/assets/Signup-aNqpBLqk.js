import{af as j,j as e,H as f,a4 as g,a5 as y,a6 as i,ai as t,a1 as b,a2 as n,a3 as w,t as v}from"./index-DL1FNKyW.js";import{C as q,a as C,G as S,B as r,T as x,S as p,F as l,b as o,I as d,c as F,e as E,d as N}from"./ErrorOutline-BoL6s-YJ.js";import{E as P}from"./appbar-CV8vv-7y.js";import{L as h}from"./Link-CMeVH5kI.js";import{D as T,C as k}from"./Divider-Ceyt4gfs.js";const I=E({defaultColorScheme:"dark"}),L=b().shape({firstName:n().required("First name is required").min(2,"First name must be at least 2 characters"),lastName:n().required("Last name is required").min(2,"Last name must be at least 2 characters"),email:n().email("Invalid email format").required("Email is required"),password:n().required("Password is required").min(6,"Password must be at least 6 characters"),confirmPassword:n().oneOf([w("password"),null],"Passwords must match").required("Confirm password is required")}),m=({message:c})=>e.jsxs(r,{sx:{display:"flex",alignItems:"center",backgroundColor:"rgba(255, 0, 0, 0.1)",color:"red",padding:"8px 12px",borderRadius:"4px",marginTop:"4px"},children:[e.jsx(N,{sx:{marginRight:1}}),e.jsx(x,{level:"body-sm",children:c})]});function $(){const c=j(),u=async a=>{try{const s=await v.post("http://localhost:5000/api/register",a);alert(s.data.message),c("/login")}catch(s){s.response?(console.error("Response Error:",s.response.data),alert("Email already in use")):s.request?(console.error("Request Error:",s.request),alert("No response received from the server.")):(console.error("Error:",s.message),alert("Error: "+s.message))}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx("title",{children:"Sigin up"})}),e.jsx(P,{}),e.jsxs(q,{theme:I,disableTransitionOnChange:!0,sx:!0,children:[e.jsx(C,{}),e.jsx(S,{styles:{":root":{"--Form-maxWidth":"800px","--Transition-duration":"0.4s"}}}),e.jsx(r,{sx:a=>({width:{xs:"100%",md:"50vw"},transition:"width var(--Transition-duration)",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",position:"relative",zIndex:1,marginLeft:"25%",marginTop:"5%",display:"flex",justifyContent:"flex-end",backdropFilter:"blur(12px)"}),children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",minHeight:"70dvh",width:"100%",px:2},children:[e.jsx(r,{component:"header",sx:{py:3,display:"flex",justifyContent:"space-between"},children:e.jsx(r,{sx:{gap:1,display:"flex",alignItems:"center"},children:e.jsx(x,{level:"title-lg"})})}),e.jsxs(r,{component:"main",sx:{my:"auto",py:2,pb:5,display:"flex",flexDirection:"column",gap:2,width:400,maxWidth:"100%",mx:"auto",borderRadius:"sm","& form":{display:"flex",flexDirection:"column",gap:2}},children:[e.jsx(p,{sx:{gap:4,mb:2},children:e.jsxs(p,{sx:{gap:1},children:[e.jsx(x,{component:"h1",level:"h3",children:"Sign up"}),e.jsxs(x,{level:"body-sm",children:["Already have an account?"," ",e.jsx(h,{href:"login",level:"title-sm",children:"Sign in!"})]})]})}),e.jsx(T,{sx:a=>({[a.getColorSchemeSelector("light")]:{color:{xs:"#FFF",md:"text.tertiary"}}}),children:"or"}),e.jsx(g,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",persistent:!1},validationSchema:L,onSubmit:u,children:({handleSubmit:a})=>e.jsxs(y,{onSubmit:a,children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:[e.jsxs(l,{required:!0,sx:{flex:1},children:[e.jsx(o,{children:"First Name"}),e.jsx(i,{as:d,name:"firstName"}),e.jsx(t,{name:"firstName",children:s=>e.jsx(m,{message:s})})]}),e.jsxs(l,{required:!0,sx:{flex:1},children:[e.jsx(o,{children:"Last Name"}),e.jsx(i,{as:d,name:"lastName"}),e.jsx(t,{name:"lastName",children:s=>e.jsx(m,{message:s})})]})]}),e.jsxs(l,{required:!0,children:[e.jsx(o,{children:"Email"}),e.jsx(i,{as:d,type:"email",name:"email"}),e.jsx(t,{name:"email",children:s=>e.jsx(m,{message:s})})]}),e.jsxs(l,{required:!0,children:[e.jsx(o,{children:"Password"}),e.jsx(i,{as:d,type:"password",name:"password"}),e.jsx(t,{name:"password",children:s=>e.jsx(m,{message:s})})]}),e.jsxs(l,{required:!0,children:[e.jsx(o,{children:"Confirm Password"}),e.jsx(i,{as:d,type:"password",name:"confirmPassword"}),e.jsx(t,{name:"confirmPassword",children:s=>e.jsx(m,{message:s})})]}),e.jsxs(p,{sx:{gap:4,mt:2},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(k,{size:"sm",label:"Remember me",name:"persistent"}),e.jsx(h,{level:"title-sm",href:"forget-password",children:"Forgot your password?"})]}),e.jsx(F,{type:"submit",fullWidth:!0,sx:{backgroundColor:"black"},children:"Sign up"})]})]})})]})]})})]})]})}export{$ as default};
