import{a as E,g as M,s as B,_ as C,r as d,u as L,b as R,ax as D,j as t,ay as H,c as V,T as i,E as y,d as F,az as S,z as v,ag as W,aA as N,C as $,h as G,aB as _,aC as k,aD as j,aE as U,B as u,aF as O,aG as Y,aH as J,H as q,v as K,w as Q,aI as X,y as Z,J as P,G as w,t as I}from"./index-CLLn0rYl.js";import{d as tt,E as et}from"./appbar-D_RuDL8j.js";import{L as ot}from"./ListItem-BVpTeyGn.js";function st(e){return M("MuiInputAdornment",e)}const z=E("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var T;const rt=["children","className","component","disablePointerEvents","disableTypography","position","variant"],at=(e,s)=>{const{ownerState:n}=e;return[s.root,s[`position${y(n.position)}`],n.disablePointerEvents===!0&&s.disablePointerEvents,s[n.variant]]},it=e=>{const{classes:s,disablePointerEvents:n,hiddenLabel:x,position:c,size:m,variant:r}=e,a={root:["root",n&&"disablePointerEvents",c&&`position${y(c)}`,r,x&&"hiddenLabel",m&&`size${y(m)}`]};return F(a,st,s)},nt=B("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:at})(({theme:e,ownerState:s})=>C({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},s.variant==="filled"&&{[`&.${z.positionStart}&:not(.${z.hiddenLabel})`]:{marginTop:16}},s.position==="start"&&{marginRight:8},s.position==="end"&&{marginLeft:8},s.disablePointerEvents===!0&&{pointerEvents:"none"})),lt=d.forwardRef(function(s,n){const x=L({props:s,name:"MuiInputAdornment"}),{children:c,className:m,component:r="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:f,variant:g}=x,h=R(x,rt),b=D()||{};let o=g;g&&b.variant,b&&!o&&(o=b.variant);const p=C({},x,{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:a,position:f,variant:o}),A=it(p);return t.jsx(H.Provider,{value:null,children:t.jsx(nt,C({as:r,ownerState:p,className:V(A.root,m),ref:n},h,{children:typeof c=="string"&&!l?t.jsx(i,{color:"text.secondary",children:c}):t.jsxs(d.Fragment,{children:[f==="start"?T||(T=t.jsx("span",{className:"notranslate",children:"â€‹"})):null,c]})}))})});var dt=S("basket","IconBasket",[["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M5.001 8h13.999a2 2 0 0 1 1.977 2.304l-1.255 7.152a3 3 0 0 1 -2.966 2.544h-9.512a3 3 0 0 1 -2.965 -2.544l-1.255 -7.152a2 2 0 0 1 1.977 -2.304z",key:"svg-1"}],["path",{d:"M17 10l-2 -6",key:"svg-2"}],["path",{d:"M7 10l2 -6",key:"svg-3"}]]),ct=S("eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);const xt=v(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 6h-4c0 1.62-1.38 3-3 3s-3-1.38-3-3H5V5h14zm-4 7h6v3c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3"}),"AllInbox"),pt=v(t.jsx("path",{fillRule:"evenodd",d:"M3 3v8h8V3zm6 6H5V5h4zm-6 4v8h8v-8zm6 6H5v-4h4zm4-16v8h8V3zm6 6h-4V5h4zm-6 4v8h8v-8zm6 6h-4v-4h4z"}),"GridView"),ht=v(t.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),ut=v(t.jsx("path",{d:"M21 5h-3v14h3zm-4 0H7v14h10zM6 5H3v14h3z"}),"ViewArray"),mt=({product:e})=>{const s=W(),{items:n}=N(h=>h.cart),[x,c]=d.useState(!1),[m,r]=d.useState(!1),a=n.some(h=>h.ProductID===e.ProductID);d.useEffect(()=>{c(a)},[a]);const l=()=>{a||s(O(e))},f=()=>{s(Y(e.ProductID))},g=()=>r(h=>!h);return t.jsxs(t.Fragment,{children:[t.jsxs($,{sx:{position:"relative",display:"flex",flexDirection:"column",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"scale(1.05)",boxShadow:"0 6px 20px rgba(0, 0, 0, 0.15)"},opacity:x?.5:1},children:[t.jsx("img",{src:e.img,alt:e.ProductName,style:{width:"100%",height:"250px",objectFit:"cover",borderTopLeftRadius:"10px",borderTopRightRadius:"10px"}}),t.jsxs(G,{sx:{p:2},children:[t.jsx(i,{variant:"h6",sx:{fontWeight:"bold"},children:e.ProductName}),t.jsx(_,{direction:"row",alignItems:"center",justifyContent:"space-between",mt:1,children:t.jsxs(i,{variant:"h6",color:"black",children:["$",e.Price]})})]}),t.jsx(k,{title:a?"Already in Cart":"Add To Cart",disableHoverListener:a,children:t.jsx("span",{children:t.jsx(j,{size:"small",color:"primary",sx:{position:"absolute",bottom:"20px",right:"20px",backgroundColor:a?"grey":"black","&:hover":{backgroundColor:a?"grey":"#1565c0"}},onClick:l,disabled:x,children:t.jsx(dt,{size:"20"})})})}),a&&t.jsx(j,{size:"small",color:"secondary",sx:{position:"absolute",bottom:"20px",left:"20px",backgroundColor:"red","&:hover":{backgroundColor:"darkred"}},onClick:f,children:t.jsx(tt,{})}),t.jsx(k,{title:"View Product Details",children:t.jsx(j,{size:"small",sx:{position:"absolute",bottom:"20px",left:"calc(50% - 20px)",backgroundColor:"black",color:"#fff","&:hover":{backgroundColor:"#0056b3"}},onClick:g,children:t.jsx(ct,{size:"20"})})})]}),t.jsx(U,{open:m,onClose:g,"aria-labelledby":"product-details-title","aria-describedby":"product-details-description",children:t.jsxs(u,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"600px",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:4},children:[t.jsx(i,{id:"product-details-title",variant:"h5",fontWeight:"bold",gutterBottom:!0,children:e.ProductName}),t.jsx("img",{src:e.img,alt:e.ProductName,style:{width:"100%",borderRadius:"10px",marginBottom:"20px"}}),t.jsx(i,{id:"product-details-description",variant:"body1",gutterBottom:!0,children:e.Description}),t.jsxs(i,{id:"product-details-description",variant:"body1",gutterBottom:!0,children:["PrixHT : $",e.PrixHT]}),t.jsxs(i,{id:"product-details-description",variant:"body1",gutterBottom:!0,children:["PrixTTC : $",e.PrixTTC]}),t.jsxs(i,{variant:"h6",fontWeight:"medium",color:"primary",children:["Price: $",e.Price]})]})})]})},vt=()=>{var b;const[e,s]=d.useState([]),[n,x]=d.useState([]),[c,m]=d.useState(""),[r,a]=d.useState("grid"),[l,f]=d.useState(null);d.useEffect(()=>{(async()=>{try{const p=await I.get("http://localhost:5000/api/product");s(p.data)}catch(p){console.error("Error fetching products:",p)}})()},[]),d.useEffect(()=>{(async()=>{try{const p=await I.get("http://localhost:5000/api/categories");x([{id:null,name:"All",icon:t.jsx(xt,{})},...p.data])}catch(p){console.error("Error fetching categories:",p)}})()},[]);const g=e.filter(o=>o.ProductName.toLowerCase().includes(c.toLowerCase())&&(l===null||o.Category===l)),h=((b=n.find(o=>o.id===l))==null?void 0:b.name)||"All";return t.jsxs(u,{sx:{display:"flex",height:"50vh",marginTop:"100px"},children:[t.jsx(J,{}),t.jsx(q,{children:t.jsx("title",{children:"Product"})}),t.jsxs(u,{sx:{width:"300px",backgroundColor:"#fff",padding:"30px 20px",borderRight:"1px solid #ddd",position:"fixed",top:"150px",bottom:0,overflowY:"auto",boxShadow:"2px 0 10px rgba(0, 0, 0, 0.1)"},children:[t.jsx(i,{variant:"h5",fontWeight:"bold",sx:{marginBottom:"20px",color:"#333"},children:"Categories"}),t.jsxs(u,{sx:{padding:"15px",backgroundColor:"dark",borderRadius:"10px",marginBottom:"20px",textAlign:"center",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},children:[t.jsx(i,{variant:"subtitle2",fontWeight:"bold",color:"dark",gutterBottom:!0,children:"Selected Category :"}),t.jsx(i,{variant:"h6",fontWeight:"medium",sx:{textTransform:"capitalize"},children:h})]}),t.jsx(K,{children:n.map(o=>t.jsxs(ot,{onClick:()=>f(o.id),selected:l===o.id,sx:{cursor:"pointer",borderRadius:"8px",marginBottom:"8px",padding:"10px 15px",display:"flex",alignItems:"center",gap:"10px",textTransform:"capitalize",transition:"background-color 0.3s",backgroundColor:l===o.id?"#e9ecef":"transparent","&:hover":{backgroundColor:"white"}},children:[o.icon&&t.jsx(u,{sx:{width:"35px",height:"35px",backgroundColor:l===o.id?"black":"#f0f0f0",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:l===o.id?"#fff":"#007bff",transition:"all 0.3s"},children:o.icon}),t.jsx(Q,{primary:o.name,primaryTypographyProps:{fontWeight:l===o.id?"bold":"normal",fontSize:"16px",color:"black"}})]},o.id))}),t.jsx(X,{sx:{marginTop:"30px",marginBottom:"10px"}}),t.jsx(i,{variant:"body2",color:"textSecondary",sx:{textAlign:"center"},children:"Browse and explore various categories to find the products you need!"})]}),t.jsxs(u,{sx:{flexGrow:1,marginLeft:"300px",padding:"20px",height:"100vh",display:"flex",flexDirection:"column"},children:[t.jsx(et,{}),t.jsxs(u,{sx:{position:"sticky",top:"100px",zIndex:100,backgroundColor:"white",padding:"20px"},children:[t.jsx(i,{variant:"h4",fontWeight:"bold",children:"Discover Our Products"}),t.jsx(Z,{variant:"outlined",fullWidth:!0,size:"small",placeholder:"Search Products",value:c,onChange:o=>m(o.target.value),sx:{marginTop:"10px"},InputProps:{startAdornment:t.jsx(lt,{position:"start",children:t.jsx(ht,{})})}}),t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:[t.jsx(P,{startIcon:t.jsx(pt,{}),onClick:()=>a("grid"),variant:r==="grid"?"contained":"outlined",sx:{background:"black",color:"white"},children:"Grid"}),t.jsx(P,{startIcon:t.jsx(ut,{}),onClick:()=>a("block"),variant:r==="block"?"contained":"outlined",sx:{marginLeft:"10px",background:"black",color:"white"},children:"Block"})]})]}),t.jsx(u,{sx:{flexGrow:1,overflowY:"auto",paddingTop:"20px",marginTop:"20px",paddingBottom:"20px"},children:t.jsx(w,{container:!0,spacing:r==="grid"?3:0,sx:{flexDirection:r==="block"?"column":"row"},children:g.length>0?g.map(o=>t.jsx(w,{item:!0,xs:12,sm:r==="grid"?6:12,md:r==="grid"?4:12,lg:r==="grid"?3:12,sx:{display:r==="block"?"flex":"block",flexDirection:r==="block"?"row":"column",gap:r==="block"?"20px":"0",alignItems:r==="block"?"center":"unset"},children:t.jsx(mt,{product:o})},o.ProductID)):t.jsx(i,{variant:"body1",color:"textSecondary",sx:{width:"100%",textAlign:"center",marginTop:"100px"},children:"No products found matching your search."})})})]})]})};export{vt as default};
